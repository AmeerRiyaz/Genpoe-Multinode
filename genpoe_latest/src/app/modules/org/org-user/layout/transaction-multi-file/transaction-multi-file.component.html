<div class="main-container-card">
  <div class="example-list-left">

    <!-- 
      Code to enable drag drop
      NOTE Drag drop not working in isolation with only files list
     -->
    <!-- <div cdkDropList (cdkDropListDropped)="dropFile($event)" id="files" cdkDropListConnectedTo="files" [cdkDropListData]="files">
          <mat-card class="left-container-card mat-elevation-z2 example-box" *ngFor="let file of files; index as i"
            cdkDragLockAxis="y" cdkDrag> -->

    <div>

      <mat-card class="left-container-card mat-elevation-z2 example-box" style="cursor: default;" *ngFor="let file of files; index as i">

        <mat-card-content fxFlex>
          <button mat-icon-button *ngIf="!displayResult" style="position: absolute; top: 0px;left: 0px;"
            matTooltip="Remove this file" (click)=deleteFile(i)>
            <mat-icon style="color: lightgrey;">delete </mat-icon>
          </button>

          <div style="width: 100%;height: 100%; display: flex; flex-direction: column;">

            <!-- result -->
            <mat-chip-list *ngIf="displayResult" matTooltip="{{ resultArray[i].message}}">
              <mat-chip [ngStyle]="{color: resultArray[i].status === 'Failed' ? 'red' : 'darkslategray'}"
                style="margin: 24px;">
                {{resultArray[i].status}}
                <mat-icon *ngIf="resultArray[i].status === 'Failed'"> error </mat-icon>
                <mat-icon *ngIf="resultArray[i].status === 'Success'"> check_circle </mat-icon>
              </mat-chip>
            </mat-chip-list>

            <!-- file icon -->
            <button mat-fab *ngIf="!displayResult" class="mat-elevation-z4" style="align-self: center; margin: 8px; "
              color="none">
              <mat-icon color="primary">insert_drive_file</mat-icon>
            </button>


            <div style="margin-top: 12px;text-align:center; vertical-align: middle;" fxFlex>
              <mat-card-subtitle><span class="wrap filename-wrap" style="color: darkslategray;"
                  matTooltip="{{files[i].name}}">
                  {{files[i].name}}</span>
              </mat-card-subtitle>
            </div>

          </div>

        </mat-card-content>
      </mat-card>
    </div>
  </div>



  <div class="example-list-right">

    <form [formGroup]="recordTransactionFormArray">
      <div cdkDropList (cdkDropListDropped)="dropForm($event)" fxFlex>


        <mat-card class="right-container-card mat-elevation-z2 example-box" *ngFor="let file of files; index as i"
          cdkDragLockAxis="y" cdkDrag [formGroupName]="i">
          <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
          <mat-form-field>
            <mat-label>Unique ID</mat-label>
            <input matInput type="text" formControlName="uniqueID" placeholder="Enter unique id">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Fullname</mat-label>
            <input matInput type="text" formControlName="issuedToName" placeholder="Enter full name">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Email</mat-label>
            <input matInput type="text" formControlName="issuedToEmail" placeholder="Enter email address">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Phone</mat-label>
            <input matInput type="text" formControlName="issuedToPhone" placeholder="Enter phone number">
          </mat-form-field>
          <mat-form-field>
            <mat-label>Document Type</mat-label>
            <mat-select formControlName="docType" placeholder="Select document type">
              <mat-option *ngFor="let doctype of docTypes" [value]="doctype">
                {{doctype}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <div fxFlex>
          </div>
        </mat-card>

      </div>
    </form>
  </div>
</div>