<!-- <div class="example-container" [class.example-is-mobile]="mobileQuery.matches"> -->
<div class="example-container">

  <mat-sidenav-container class="example-sidenav-container toolbar-bottom-shade">
    <!-- [mode]="mobileQuery.matches ? 'over' : 'side'"
    [fixedInViewport]="mobileQuery.matches" 
    [opened]="mobileQuery.matches ? 'false' : 'true'" -->

    <mat-sidenav #sidenavdrawer *ngIf="navService.visible" mode="over" [opened]="false"
      class="mat-elevation-z0 sidebar">

      <mat-toolbar class="heading mat-elevation-z4" [routerLink]="['/']">
        <img class="invert-img" style="max-width: 110%;" src="../../../..{{appGlobals.HREF_BASE}}assets/cdac_full.png" alt="">
        <span style="font-size: 14pt; font-weight: bold">PoE for ACTS Certificates</span>
      </mat-toolbar>


      <mat-nav-list *ngIf="currentRole == roleList.ADMIN">
        <a mat-list-item [routerLink]="['/admin/dashboard']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>home</mat-icon> <span mat-line>Dashboard</span>
        </a>
        <a mat-list-item [routerLink]="['/admin/users']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>people</mat-icon> <span mat-line>Users</span>
        </a>
        <a mat-list-item (click)="sidenavdrawer.close() && onLogoutClick()"
          style="bottom: 0; position: absolute; background-color: lightgrey;">
          <mat-icon mat-list-icon>power_settings_new</mat-icon> <span mat-line>Logout</span>
        </a>
      </mat-nav-list>

      <mat-nav-list *ngIf="currentRole == roleList.TC">
        <a mat-list-item [routerLink]="['/training/dashboard']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>home</mat-icon> <span mat-line>Dashboard</span>
        </a>
        <a mat-list-item [routerLink]="['/training/certificates']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>subtitles</mat-icon> <span mat-line>Certificates</span>
        </a>
        <a mat-list-item [routerLink]="['/training/upload/certificates']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>cloud_upload</mat-icon> <span mat-line>Upload Certificates</span>
        </a>
        <a mat-list-item [routerLink]="['/training/upload/students']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>cloud_upload</mat-icon> <span mat-line>Upload Student Details</span>
        </a>
        <a mat-list-item [routerLink]="['/training/search']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>search</mat-icon> <span mat-line>Search</span>
        </a>
        <a mat-list-item (click)="sidenavdrawer.close() && onLogoutClick()"
          style="bottom: 0; position: absolute; background-color: lightgrey;">
          <mat-icon mat-list-icon>power_settings_new</mat-icon> <span mat-line>Logout</span>
        </a>
      </mat-nav-list>

      <mat-nav-list *ngIf="currentRole == roleList.CH">
        <a mat-list-item [routerLink]="['/centre/dashboard']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>home</mat-icon> <span mat-line>Dashboard</span>
        </a>
        <a mat-list-item [routerLink]="['/centre/certificates']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>subtitles</mat-icon> <span mat-line>Certificates</span>
        </a>
        <a mat-list-item [routerLink]="['/centre/search']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>search</mat-icon> <span mat-line>Search</span>
        </a>
        <a mat-list-item (click)="sidenavdrawer.close() && onLogoutClick()"
          style="bottom: 0; position: absolute; background-color: lightgrey;">
          <mat-icon mat-list-icon>power_settings_new</mat-icon> <span mat-line>Logout</span>
        </a>
      </mat-nav-list>

      <mat-nav-list *ngIf="currentRole == roleList.CC">
        <a mat-list-item [routerLink]="['/course/dashboard']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>home</mat-icon> <span mat-line>Dashboard</span>
        </a>
        <a mat-list-item [routerLink]="['/course/certificates']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>subtitles</mat-icon> <span mat-line>Certificates</span>
        </a>
        <a mat-list-item [routerLink]="['/course/search']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>search</mat-icon> <span mat-line>Search</span>
        </a>
        <a mat-list-item (click)="sidenavdrawer.close() && onLogoutClick()"
          style="bottom: 0; position: absolute; background-color: lightgrey;">
          <mat-icon mat-list-icon>power_settings_new</mat-icon> <span mat-line>Logout</span>
        </a>
      </mat-nav-list>

      <mat-nav-list *ngIf="currentRole == roleList.PO">
        <a mat-list-item [routerLink]="['/placement/dashboard']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>home</mat-icon> <span mat-line>Dashboard</span>
        </a>
        <a mat-list-item [routerLink]="['/placement/certificates']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>subtitles</mat-icon> <span mat-line>Certificates</span>
        </a>
        <a mat-list-item [routerLink]="['/placement/search']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>search</mat-icon> <span mat-line>Search</span>
        </a>
        <a mat-list-item (click)="sidenavdrawer.close() && onLogoutClick()"
          style="bottom: 0; position: absolute; background-color: lightgrey;">
          <mat-icon mat-list-icon>power_settings_new</mat-icon> <span mat-line>Logout</span>
        </a>
      </mat-nav-list>

      <mat-nav-list *ngIf="currentRole == roleList.STUDENT">
        <a mat-list-item [routerLink]="['/student/certificates']" [routerLinkActive]="['active']"
          (click)="sidenavdrawer.close()">
          <mat-icon mat-list-icon>subtitles</mat-icon> <span mat-line>Certificates</span>
        </a>
        <a mat-list-item (click)="sidenavdrawer.close() && onLogoutClick()"
          style="bottom: 0; position: absolute; background-color: lightgrey;">
          <mat-icon mat-list-icon>power_settings_new</mat-icon> <span mat-line>Logout</span>
        </a>
      </mat-nav-list>
    </mat-sidenav>

    <!-- MAIN CONTAINER -->
    <mat-sidenav-content style="background-color: rgb(224, 224, 224)">

      <mat-toolbar *ngIf="navService.visible" class="main-toolbar mat-elevation-z1" style="height: 48px">
        <button mat-icon-button (click)="toggleSidebar()" style="margin-left: -8px">
          <mat-icon>menu</mat-icon>
        </button>
        <!-- <img style="max-height: 24px; margin-left: 12px;" src="../../../../{{appGlobals.HREF_BASE}}assets/cdac.png" alt=""> -->
        <!-- <span style="font-size: 14pt; margin: 0px 12px 0px 12px">PoE for ACTS Certificates</span> -->
        <button mat-button [routerLink]="['/']">
          <span style="font-size: large ; ">
              PoE for ACTS Certificates
          </span>
        </button>
        <span *ngIf="!mobileQuery.matches" style="font-size: 9pt;margin-top: 4px">{{currentRoute}}</span>
        <span class="titlebar-spacer"></span>
        <button mat-button [matMenuTriggerFor]="appMenu">
          <mat-icon>account_circle</mat-icon>
          <span *ngIf="!mobileQuery.matches">{{currentUser | titlecase}}</span>
        </button>
        <!-- <mat-menu #appMenu="matMenu" [overlapTrigger]="false" class="mat-elevation-z16">
          <span *ngIf="mobileQuery.matches" style="margin-left: 8px;color: darkslategray">{{currentUser | titlecase}}<br></span>
          <mat-card-subtitle style="padding: 4px 6px 4px 6px; ">{{currentRole | titlecase}} <span
              *ngIf="currentCentre"><br>{{currentCentre}}</span> </mat-card-subtitle>
          
          <mat-divider style="width: 192px">
          </mat-divider>
          <button mat-menu-item mat-stro (click)="onLogoutClick()">
            <mat-icon>power_settings_new</mat-icon>
            Logout
          </button>
        </mat-menu> -->

        <mat-menu #appMenu="matMenu" [overlapTrigger]="false" class="mat-elevation-z16">
          <div style="display: flex; flex-direction: column;text-align: center">
            <span style="margin: 12px">
              <button mat-fab [routerLink]="['my-account']" color="primary">
                <mat-icon>person</mat-icon>
              </button>
            </span>
            <mat-card-title style="margin: 12px">
              {{authService.getCurrentUser() | uppercase}}
            </mat-card-title>
          </div>

          <!-- <span style="margin-left: 8px;color: darkslategray">{{authService.currentLoggedInUser | titlecase}}<br></span> -->
          <mat-divider style="width: 192px"></mat-divider>
          <button mat-menu-item [routerLink]="['my-account']">
            <mat-icon>settings</mat-icon>
            My Account
          </button>
          <mat-divider style="width: 192px"></mat-divider>
          <button mat-menu-item (click)="onLogoutClick()">
            <mat-icon>power_settings_new</mat-icon>
            Logout
          </button>
        </mat-menu>
      </mat-toolbar>


      <div [ngStyle]="{'class': navService.visible ? 'inner-sidenav-content' : 'inner-sidenav-content-loggedout' }">
        <!-- <div style="padding: 8px;"> -->
        <div class="router-container">
          <!-- <mat-progress-bar  color="accent" *ngIf="isRouteLoading"  [mode]="indeterminate"></mat-progress-bar> -->
          <mat-spinner *ngIf="isRouteLoading" color="accent" style="position: relative;
          margin:auto ; top: 40vh;" [diameter]=30></mat-spinner>
          <router-outlet *ngIf="!isRouteLoading"></router-outlet>
        </div>
      </div>

    </mat-sidenav-content>
  </mat-sidenav-container>
</div>